apiVersion: machinenativeops.io/v1
kind: RootBootstrapConfig
metadata:
  name: bootstrap-baseline-config
  namespace: machinenativenops
  labels:
    machinenativeops.io/tier: bootstrap
    machinenativeops.io/version: v1.0.0
    machinenativeops.io/component: bootstrap-configuration
  annotations:
    machinenativeops.io/description: Root layer boot and initialization configuration
    machinenativeops.io/last-modified: '2025-12-20T22:00:00Z'
spec:
  init_sequence:
  - phase: pre_boot
    description: Pre-boot system preparation
    timeout: 60s
    critical: true
    on_failure: halt_system
    steps:
    - name: verify_system_requirements
      description: Verify minimum system requirements
      module: system-validator
      action: check_requirements
      parameters:
        min_memory: 2Gi
        min_disk: 10Gi
        min_cpu: 2 cores
        required_kernel_version: 5.4.0
      retry_policy:
        max_attempts: 3
        backoff: exponential
        initial_delay: 5s
      success_criteria:
      - all_checks_passed
      - system_compatible
      failure_actions:
      - log_detailed_error
      - halt_with_error_code
      - notify_administrator
    - name: load_secure_boot_configuration
      description: Load and verify secure boot configuration
      module: secure-boot-loader
      action: load_configuration
      parameters:
        config_path: /etc/machinenativenops/secure-boot.yaml
        verify_signature: true
        enforce_secure_boot: true
      retry_policy:
        max_attempts: 2
